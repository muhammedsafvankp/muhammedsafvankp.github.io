<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Periodicals - Library Periodicals</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="navbar">
        <div class="container">
            <a href="index.html" class="logo">Library Periodicals</a>
            <nav class="nav-links">
                <button class="menu-toggle" aria-label="Toggle navigation">&#9776;</button>
                <ul>
                    <li><a href="browse.html">Browse All Titles</a></li>
                    <li><a href="search.html">Search Periodicals</a></li>
                    <li><a href="access.html">How to Access</a></li>
                    <li><a href="contact.html" class="btn btn-primary">Contact Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container content-page">
        <h1>Search Periodicals</h1>

        <div class="search-form-container">
            <input type="text" id="search-input" placeholder="Search by title, keyword, or subject...">
            <button id="search-button" class="btn btn-primary">Search</button>

            <div class="advanced-search-options">
                <h3>Advanced Search Filters:</h3>
                <div class="filter-group">
                    <label for="search-category">Category:</label>
                    <select id="search-category">
                        <option value="all">All Categories</option>
                        <option value="news">News & Politics</option>
                        <option value="science">Science & Technology</option>
                        <option value="arts">Arts & Culture</option>
                        <option value="hobbies">Hobbies & Interests</option>
                        <option value="business">Business & Finance</option>
                        <option value="scholarly">Scholarly Journals</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="search-type">Publication Type:</label>
                    <select id="search-type">
                        <option value="all">All Types</option>
                        <option value="magazine">Magazine</option>
                        <option value="journal">Journal</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="search-results" id="search-results">
            <!-- Search results will be dynamically loaded here by JavaScript -->
            <p>Enter your search query above to find periodicals.</p>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 [Your Library Name]. All rights reserved.</p>
            <div class="social-links">
                <a href="#" aria-label="Facebook"><img src="images/icon_facebook.png" alt="Facebook"></a>
                <a href="#" aria-label="Twitter"><img src="images/icon_twitter.png" alt="Twitter"></a>
                <a href="#" aria-label="Instagram"><img src="images/icon_instagram.png" alt="Instagram"></a>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Example periodicals data for client-side search (in a real app, this would be from a database)
        const allPeriodicals = [
            { id: 'economist', title: 'The Economist', category: 'news', type: 'magazine', description: 'Weekly international news and business.' , cover: 'images/magazine_cover_economist.jpg'},
            { id: 'scientific-american', title: 'Scientific American', category: 'science', type: 'magazine', description: 'Leading science magazine.' , cover: 'images/magazine_cover_scientific_american.jpg'},
            { id: 'archidigest', title: 'ArchiDigest', category: 'arts', type: 'magazine', description: 'Architecture, interior design.' , cover: 'images/magazine_cover_archidigest.jpg'},
            { id: 'gardening-today', title: 'Gardening Today', category: 'hobbies', type: 'magazine', description: 'Tips and inspiration for gardeners.' , cover: 'images/magazine_cover_gardening.jpg'},
            { id: 'forbes', title: 'Forbes', category: 'business', type: 'magazine', description: 'Business, investing, technology, entrepreneurship.' , cover: 'images/magazine_cover_forbes.jpg'},
            { id: 'time', title: 'TIME', category: 'news', type: 'magazine', description: 'Weekly news magazine.' , cover: 'images/magazine_cover_time.jpg'},
            { id: 'nature', title: 'Nature', category: 'science', type: 'journal', description: 'Multidisciplinary scientific journal.' , cover: 'images/magazine_cover_nature.jpg'},
            // Add more as needed
        ];

        document.getElementById('search-button').addEventListener('click', performSearch);
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        function performSearch() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const category = document.getElementById('search-category').value;
            const type = document.getElementById('search-type').value;
            const resultsContainer = document.getElementById('search-results');
            resultsContainer.innerHTML = '';

            const filteredResults = allPeriodicals.filter(p => {
                const matchesQuery = p.title.toLowerCase().includes(query) || p.description.toLowerCase().includes(query);
                const matchesCategory = category === 'all' || p.category === category;
                const matchesType = type === 'all' || p.type === type;
                return matchesQuery && matchesCategory && matchesType;
            });

            if (filteredResults.length === 0) {
                resultsContainer.innerHTML = '<p>No periodicals found matching your criteria.</p>';
                return;
            }

            filteredResults.forEach(p => {
                const resultItem = document.createElement('div');
                resultItem.classList.add('periodical-item'); // Reuse existing styling
                resultItem.innerHTML = `
                    <a href="periodical-detail.html?id=${p.id}">
                        <img src="${p.cover}" alt="${p.title} cover">
                        <h3>${p.title}</h3>
                        <p>${p.description}</p>
                    </a>
                `;
                resultsContainer.appendChild(resultItem);
            });
        }
    </script>
</body>
</html>
